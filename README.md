# ITD_TG2YaDisk_Lite

Telegram бот для автоматической загрузки медиафайлов на Яндекс.Диск с навигацией по папкам и управлением доступом.

## Возможности

- Загрузка медиафайлов (фото, видео, аудио, документы) на Яндекс.Диск
- Навигация по разрешенным папкам на Яндекс.Диске
- Управление доступом пользователей (только для администраторов)
- Управление разрешенными папками (только для администраторов)
- Поддержка фото, видео, аудио и документов

## Команды

- `/start` - Начать работу с ботом
- `/cancel` - Отменить текущее действие
- `/help` - Получить справку о командах
- `/admin` - Меню администратора (доступно только администраторам)

## Установка и настройка

### Локальная установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/Ballindaboy/ITD_TG2YaDisk_Lite.git
cd ITD_TG2YaDisk_Lite
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл `.env` на основе `.env-example` и заполните необходимые параметры:
```bash
cp .env-example .env
```

5. Запустите бота:
```bash
python -m main
```

### Развертывание на VPS сервере

Для удобного развертывания на VPS сервере используйте скрипт `deploy.sh`:

1. Загрузите скрипт на VPS:
```bash
scp deploy.sh root@your_server_ip:/root/
```

2. Подключитесь к серверу и запустите скрипт:
```bash
ssh root@your_server_ip
chmod +x deploy.sh
./deploy.sh
```

Скрипт автоматически:
- Обновит систему
- Установит необходимые зависимости
- Клонирует репозиторий
- Настроит виртуальное окружение
- Создаст необходимые файлы конфигурации
- Настроит автозапуск через systemd

Для проверки статуса бота:
```bash
systemctl status itd-tgbot
```

Для просмотра логов:
```bash
journalctl -u itd-tgbot -f
```

## Конфигурация

Для работы бота необходимо указать следующие параметры в файле `.env`:

- `TELEGRAM_TOKEN` - Токен вашего Telegram бота (получить у [@BotFather](https://t.me/BotFather))
- `YANDEX_DISK_TOKEN` - OAuth-токен Яндекс.Диска (получить в [Яндекс OAuth](https://yandex.ru/dev/disk/poligon/))
- `LOG_LEVEL` - Уровень логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL)
- `ADMIN_IDS` - ID администраторов (через запятую, например: 123456789,987654321)

## Лицензия

Распространяется под лицензией MIT. См. файл `LICENSE` для получения дополнительной информации. 